# W08D02

## The packages used

1- npm i express (To build a backend server)

1- npm i cors (The benefit in it when using Front End)

1- npm i dotenv (To hide some sensitive things)

1- npm i jsonwebtoken (It contains 3 items and can only be changed on paylad)

1- npm i mongoose (To create the database)

1- npm i bcrypt (Password encryption)

1- npm i nodmone (globe)


## ER diagram
<img src='https://viewer.diagrams.net/?tags=%7B%7D&highlight=0000ff&edit=_blank&layers=1&nav=1&title=Copy%20of%20Untitled%20Diagram-Page-1.drawio.png#RlXrXsqvKku3XrMeOwCM9AsIUnsIJ3hDeCYQT8PVdzLX2OXvH6Xuje8ZEQknZrMyRI4v6RQr9Lk%2FJWBlDlne%2FCCzbf5GPXwSBk8QdfV2S47eExsnfgnKqsz%2BF%2Fi1w6zP%2FI8T%2BSNc6y%2Bd%2FFFyGoVvq8Z%2FCdHi%2F83T5hyyZpuH7z2LF0P2z1zEp8%2F8QuGnS%2Fac0rLOl%2Bi0l7n%2BTK3ldVn96pv6aXp%2F8VfbPROYqyYbv30Sk%2BIsUpmFYft%2F1u5B3l%2B7%2BUsvvetL%2F4%2Bm%2F%2Bp%2Fy9%2FK%2FqRCNm3jbCl7nNZMRXTohcP2%2F%2FrSyJd36Z75%2FBrscfykAjXu8buv%2BR1P8lk9LjfSjJ6%2B8s4e5XurhjZ6%2FhmUZelSgux7wSdqW07C%2BM2HohumnKbL4%2BftbG1xXl1fdZRiRNJnH3ytY1HuORs3%2FdMn9JcX%2BkqD7LFmSXyT3%2Bychje%2FyFyHUAW%2FBL6bJ5cChP9P1K9Ev0V0N0IfkCJyBvgU8sQL7KsDLGe%2F5Isfpsi2gVvaKdy65dPptJnAaaylWe5XLfHH34dXRxlICV0p4m9TloDYGYUFaeBaX1gnp%2FPON%2FtlNxX%2FGQHaYqtXTbdMPTOLtqafX%2BPPq72RGhlL17Bmlz4s3zRzrhPPQrzgoJmFXgcNsSPVI56f0HqxHYpHLtrzjqcXHgqwVKqTQsPKH60M%2BUJqEVQk1%2B8zUA8R7JE7p%2FIg5N1tfd2SMkmEElKAKX%2FmhSnz%2FNhgh7ZZXIVY6e58tkvXeAjcJjjPNt8d%2BJ2IrnalVFL6sulu3kLzhIKB5ELyrNnTIXHCfvwgetct%2FWYVWx1p0R%2BjWYyauHNcjMepxMIfnTRShAjS8AJnIAU%2FkGNWs1a%2BQtQ9AcioW6mLpMwCVjnZObV1FTDLTtZRe%2FdahyW4WaiqkwIp6k%2FjZnn1YlXX7GoLn2GdUUIXrZyzNLYtLchBFRzlenWvPQN2hCaNqPCrC782EjBwosOVmr53sR6lNKyTlnDA23%2FMboh7oY5s5bFqPl9FGoHWQ7fO2jT6OT06cxYTPzv7Fa%2FVofTSOD7rslWr7dGqpkG0Epa6f7IfkxltiTkY9uHVHOAv46NJ23Cn8cX%2Fe%2Br1DXTU1qCvn2%2FptALiXgNXHOdfJAervrQRgoAANOwc%2BVGhLM277RVp%2BywGM4kBOPPkOeWiR9m%2Fdaq9iUpG1S3cl7%2BqhRMZYa66u3eZrgGJtCyTwPcva8ACeR690lbhbEMR1W9O3IGufPhRjAt5OrqZjfff4Fb5QzUQv3u3ysbeNQv1Yl9YX%2FevhRBru4n4PlgQ1QGSP82E%2F97P3EKpLVZBOxXdDA5N60z7RVyZAw0sPm3swoNzZW8uBBolvJomfflean2aCTzLYszawguHO6FjkDJ7XkR8Pg4cu2PZmSzA1gKLHj0qEXGfJO3W%2FppubuwilmLIU7GeExcESyaeu3Cq2ioa9fRfnAzea91BZN%2B%2BNNx1DpPbbB%2FBQY5%2FfQz%2Bm11AmWfC9xlxPD%2BGri2jJR7waYlHl%2FaCFqQkkPYfKlLJxlIm8mDfFPRdDJRNRs8JlrZJTFox72EWrf5nhwgQ9QAP7YpVT7cddYxUHDQ%2BO1KuHp4PVWIr1B1eX3wRpgg9mwjAv84oOfwI1lTi1M3zWl9w4jHJIJnn3M5HGwpx0DqgN%2BlftlLI1JtRNwczDUFOrc3PYt3eSu8J%2BNyC4m%2F%2B9FpD2FUdz7oxNQP3ZMJHj1x%2BM5VzMOyyDfViA9pqyql77Itf9adfal%2BJetzeU4CNliJ4a7TrxLs1y6vqshmpuhrrAvP3%2BDldzeGhCLR92bd3bNCo%2BHe%2FzoARB%2BwzPc4LvANUzasKda4YIs1dkA6aOoByGbcYp1laBR63tH3Hndw%2FnTZUzHK3XJPdOUCwZU76tWUynuwLTdAaJ6cnkOGVICW1WmpfFC882mEEV84rm%2BjUm40qtV8H7hN8fl%2BDHI1%2BsY0uKAXebzq449XvnHq%2FtmXhQvhP3BChFy%2BK9Qy%2FXKo7Qwl1peWQ5e6kVMkg3N454nYKGGa8pVSz%2BMtr3llWEAVbh%2FrnbTghMEKNoybd11GyveGcDE2By3utAUF9gAfTQt1X6DsnO9jRQ4jI8XXCICbiLuSLVKqrqz96rCc5jdrusRBquqHqro7J4CR5rtByWCZLIC1xNYBXTw%2BxCGxggCagbVcbVFwluJ3xILhDEUcbj7DZk%2BhMBlyOqtTa%2FWSFn%2Ba1lB8cyUBmJly%2BPVAkcwSsRLcME5q6BzftqNw155htbnmlMrghv8%2FBpO8aTdrl9Kr4brYcpxop5Gb260K57o73gRq7NInJj%2BgymzSh5ZfdvlktugXwUXvihenC3WBQ3ZH9XXVkoFlCk8Srb34HaNjoJCPxVU%2FUJzDh89CuxDpvHs%2Bu0sLJ54Sv1YTWko6EhDr7mXNDHwV24nNmWXZMAwYNP92dCnmATSN9hpAZpBSNSCsuKipM4Tcz5G8SDyHVXrVUifo9KaqzdIp3rt7eCon64t54KLLZkZbcYO9dwayd3rCwQoFnbHxBnvOhM4kNs0TBusWS%2Fb%2F1UrTDUvQt%2FdPBKjUJmeuMl71OtGV6Mp0LAmjVXc%2B84wGzrnbGOwdERKg2a7qtyLKKpuiC31bee5GclvURbflTFNsQhQ3m8PcPa%2B9S19loV9Q7t0muBFwJdNe4zdnsx3UCC%2B4U55vdJeSg%2Bdpf9JZeW5qJVEScxJ9TiSbzUTVIm3cBuzDhTLWhvjbz1oWVGjb%2BEImIIUTk3aRefUNWDla%2B1D3m%2FD3lGC4ckdZuSKOkVPdKA4GRRggzr85cW2smKdDWpqCZq0kokvEx95FSAfkVlWvrEM8%2FDIQcEYMCynhNpNWbyAGjtgA7ezIqGzr%2FN7mnA1sNKaiiatmOfVLuI9KMGlkTR2pqv7eMC0fv9DNzJzJP61XciKt3dlPgcws872BzDi2KbOIjAfzSA53cOVWDiC3Tue5yDA2zObrKShWktEkqv4PncR9dIzpWRRkCqJoy1zynrpU6VDY6AyakI3YTfy77LcLzmbrZmkdwNoD1cvZh78p3X6ybmpPr0GcXSxEzCJmP3POODlbaIMW83xIKSprQo02nmPg7qfPlRLdZ%2BEFi9b%2Fu5oCCuQpHOZ9puzafH6ZrYRj4f3cHgadEinoVGtWuzJptbZjuc%2FWmv91X9zvuie1LEzJxNk6b4nKh9uHjJV3%2FIED9ASEXutHkI%2Fguryy0V7KohVDx9TcM1Xcclanh4L62IOweUt4NlZVyfxjVZYaou305v4jYtq9r3iNUYQrpuuwsWl0ufnbIUSj%2B2T6cu%2BhXTXNXt6%2BigA6xyO%2BSN%2FFMNTflupe06SqOlZrqtZpbPIA%2FhaxWxoNUpknTdGlepjYERKdpVdqUyKnq2uM%2ByPzz68yDScydfl31Ftxf2tqjP9wwL5pXPz4%2BqGS%2BWyn0txQV8FYFIiyz4zL2oXcbPtVbbvTEvJfWVNaBIJ2UiFnHOxyHVZtSnJ1sZM2waz59v3qxJYGieKIZoeoGXNA3pRIjFFkbTuNrIUZNb1gQXRTBz5O1thMhozGtYMU1huCIkN0IM36Ig5oayOsAgGeQTkod1X52SxCdz8fyY52ftk380lTkQAeIrpl0%2FOgbSXiHg0TJ0gsiNUav4RZq96vOYlNVPWu8iymZ8cdwAN5hncj1eeLM00Twf1ZXRPIwPow7RamTF0xmLSSm03bOdlymmePPi9gkKRmdnORUuxWtS%2FLe6JHrHfyyqthKp1vFc%2B3GQ4nEwVNN7UfMV5icc9icCGYnR7RpIGXloULwd6ufR7zlcKCzUrgzysPVjHMeTb22j%2FqzhsBIoC9h85f70wPeH7uWxyHDP6IR2NFDn019bqNw7XDysR7hdgScXOA7K8fykwk82X5glb7XxKgSjLnl5pLNTZFQvPh4iX4MS4aSD9D9lX2ROCBEjv3T8Ni%2BkDlsu3XwZnwM3deZl2Mzhk28yehxN2UQkxBFdRroic0LchKc3Dk%2FH9ziQgYneB3ah%2FVwnM7T8F6BN%2FhWHiT2K3J2Lw%2Fc%2BMssZgsN24xkKUIzQGAbmYgkBQK5cuSkx7AR%2B371R3BefMVDtnFCqEmqO5YyDzkE4e58jCyEGp1sSwhSfbcV%2FIthK6O%2B8SGpjf9jsAxiBuZZckVaGEJ1PYL%2BZiQa6NL%2FeY5nU1xTrYsA41M6FxLjzuJRY5rIqKeNHBJqugOdDJnz5dodCtGzdgeqU%2BR3K%2B2dHtx8pNwTRaf25cwTjSAulu5X47XGfn2LatRMutTndHWKNsAW%2FreT8IFeTDFyNXfL8o%2BNch6OEOF6KCqU%2BO3tq7dkHZqxf2OgC%2BgO4ioXnVTV4uBbKHgoQiJsrD2FVn6YrM7WwR4X%2BnkkzeoBSN588Lnb1BVxPxG9ArW4Lpbrms4Ut25x8jeeodEtKsUjbRPCREiPorC44bu%2F1md1XX%2Byl7rZaehqIkcwdFh46sRqyDk73jfauqrg4L0ZNSlDmMVMQaSuGHR7Za2uqB1OPKDKcJ4FLUOOaqD93OttPlMtAhiPM2T%2BJNc8JUOvfldnkl8rONYpyhlXisW1bLz8QWbVkUH5%2FxtIdJQLqY979eiZgAS3o1MYeH1EPFG6F8gts4A2%2BUEsKgh1JKA6TKLQklL3DnRle7GEIHnq6PD6xFKEk%2BgBH5j7fDve2gpo%2FlDZqZ06DkfTDtxTd%2FalVX7VAavKkIrRu%2BkK%2BpG6z1RnCzo1KRd%2BUXfjOjlZcVK3H2rc18FJUGo3escocAktdmvknRg%2B8kuqi3tvAB7MD4NxQTb4mRKO%2BKlSh6h6qInKt65qHUG%2BUslEc9ZZqwb3y2%2FFC3aktps2RPYyUkkV8HzzK%2FnjmaVMj4HXKxYLZwTKWQ%2F8i92w2frWu0G9xE%2FW6KWJAxhlbitkbWaInXqaO8l4ei8WL3UV3Drk%2B%2ByRAYlygCKgqYgNCFZR76pcTxPqmemSjcK%2BwzSkeuIJ5LDaPzEcr3uJVPhhsbrBVMLNlN4Ni%2B3SCQJNA2dPXfRibL%2BWx4xZUAAR9wk9Lwpi13ly%2B1Xy6mVfPpZXK%2FvmOgeZuKc63xJYwAwKqlb9MP8BeYFLTexuIoipCAqbQ8dFSXDaBGHBFBAXkHHiLCvuyGWQoaExzJm6%2FZ4m44bUDg%2FwQpYgifOguwh9prsFQg%2BXBxtIu8VD18Jcl6DVyZCp0cf1%2BfDOTQPmqduB0%2Bd3PsXtiDgpjXXTFwEOvUY7g5SjSQhFCDXYTiyxw0MBikd3lTzwv0cr7ifJXSYzNOjc3XoK8AGNyS778zwzySSdc8epdYha1uEZUgQrl6LaPesq7XkVTEVWJ%2F%2FyZIfN6KchmgCDobnQhaRq0V8n2XCPxp%2Fe7OlDL7qPWPaZBJFVqoeg4rSNPZ4%2F%2F9A%2BcZau5sjbWnWtQTlyjUPAMiM96JSQueKsGtA%2BRfn9EX%2FTaAVTD%2B75qNf8NxQxHvitD6tDqPKQmVLaEtvfjp81wAIVYU4L6AIX%2FwJuDtB3LDWDU%2FVXPdfrmxdH6rbUrfsfEa12%2BZPpYf7Y6gKy7CLU3lvm%2BGIm7i7uGksMToSFJhaKg1ovZ5rae4yNB0VU40KDX86m130un64IqGyj%2F6195kwb98AIRgNBwv4%2F0MvNMrZ3vjNuisG%2FZiJ%2Foye2erleotzYdm76HdbP2SYHB10VsXj%2FxY6KyLDAb%2BanJcZ3iUyuJwcRdMavI8dfQ3x5EDtR5DYEApvAKR%2FSU3HHA6vyb1N92VcTV4%2BYfX%2BS62l6RL31L7tgN86%2Fh3JVrA6moj68W1ekeItpQa0f9DvMr6I%2BJeUqYBhCDHYZvOdRzhJPvZWL9Eyok4CzNBQmY5CGb6%2Fv97VsxOVNfqNAXwhPs3T4RMbnVtCPCcAkQ%2BWQpqyG7xkbrplztX6Tguur%2BPFboyNRUSUazamKtIG%2B%2F%2FMSMyGVTDwV7URt%2FPOO465OBi7CflAffjHTxxEws2%2BmVvrOFyQhCuUJfeuL28UKB42qdfafELT1Fr6fV%2By4cRE9vZl2NE%2BsOX1t6katz8LGIjQmb4qs%2BXRH99t4l0dvoa6vKtg%2Favuk5VrSfD6HOzJZA9tbGB%2FV0rpCrLCcOaN4UxbHYkUdsIFNx04QHa3fvASen9BmbFYHd5KUQdOvd7ZN%2FqYiuLR5hbHeX6ekJl%2BpaUyhdlPHCGceBOMZh167bhZx7F3j7qc8FIiipgCTiQsnAFgxyITH9UtWMsYn0nfwtZsUvJma5gPGPgHo%2B8KhdzYOm9jeKiqACxtuXxEjvaTZfV%2FbZYFM0P4aGrS36c1eIh6NbcX0awbF6nn%2B4%2BwMSXoGR%2FkXzHpEjBk3yznrZv0Ysacb9yX7HRWPFzEsUO%2BPzMKfB2WCbZYrfxWugQTs0MtPIaYPms9TrxZLDosppNhvvVEaQ0QumDoNJ2UTlnjw253BTSatP0ku7hE%2FCt2yXrKgipNjYZfxkeDFH8nlGb%2BeF3yVjKTkbbGZKsEqkV%2FG1YYt1U1ZzAujuSDot5idYkEJFvz6y0qmBYHY4ynlpcexu9WmBEyUVBTYsBPctK9BgHCKgXK0e0w2LZprPG06GebBCxGfmueWm38%2F%2FebWDAAgVuggjOahATYsaw8Mg5db9T%2Ft5O4yIJZhQ2TUmNkWzxSt8S%2FaxTJ08rq%2BsXvVcmmp9ofXqOnQdvxr10YTS7nvp4%2BBceLhKZ6pPUW4Jz7hYIcNmRMMOB1sX3ZN0r1cWtlEaNUWP6rXp6N3g8EP5SWhXLPV8Ug5cP7cmvUsof5%2Biom0lkMAETkq%2F6NAMJb3BYOz1lLp%2F4f0lEveme728JMhJacm4tr7T9wFqk02dmzJcrzVOkDwx3ndnHj5lMH9IaWLUW1DNt%2FvlKvwq8n3Qo5nVV25T7Ig4acnTzk5Pq7OWAZ0PdjZo2ky7B7wBefcyfu0hjmNmwCEXDtL92TbQX49JxiesP6iBbSt%2FsSIptYP1XEjD7TtsV2gLjeSOUsGb6V5b38G1rSo%2FQO1XV8LAR7u0f4Lb54IdmiVv%2FtKJ%2Func6U6VREsLsUKZxkZ6WYncMJlfPHRU3ThoRON8T%2FzIalLMLpgcayPjCcTB5hEMqCQRhcpTo%2BI3%2FVB8zJ6%2F465bKPPmNzeMQjiavHShVUOW5kLfoMre%2BB4lwA9TndhJL%2FWPqgOsv21vb%2BIzMa2V2v1YW0BeL1S0CfgQMTFeZORQ5%2FdY6FF%2BU%2BpvYhccZTwVvNXAerd2Drd1Kmal7NqEbwRVv6w9kXaGqt5fTb9aeYh3FzGkCx63SNuaQwJOHs61BovyiZntq%2FgyxQU%2FzbKyfTfvFPPCtdxIZfgASN9HJPOSmneGDS3HobKFelLaPn2xADHGl3iIflFbNbOs%2FtGkDbsyWX449ZDEFI3VCZucG3S9ZZrMp7i%2BiYmL6vskWptDb1c0qz6e4MFsSUjQ6FBa0wFspAwvrxBYjFiSwIR7cU1PcfSOXLrZVuUVVrj5WYlZhsKYpeL7lLEwTFxfb5KGPFdBsLBBLvdcieVvjrnPpq0KcGjjMtmaiutT2oXMSY6nzscxlLi1Xs3%2BpmxK4%2Fuf9zpYFj18V5QhFREBPnraDQvWTx1S3vV%2B5HEeKDuR3sZ%2BXi9HyEkSc51%2BVfBDyuT1cuhyvW4aYKAaDAZdwzXst8K87Ll83LvuTl2ht6cmWo%2FlZKHPwDO8LWUjs7reQ1WZbMBpCHdXnZaJ09RJpxfoqdG0Mb0UvO%2FZ2hv5fiUIT4t4nu86%2FyJg6a8wIn8k7xXmvidHuGTUj%2BNEDoZj3tCzxC1%2FXaM9rsCSSFksOTUhCokXn%2FWnOORKbr8WLG73oWgN8cp75VwrogfpXLHUUYqiIAwPmsA7QnH%2Bn3Dwum7TbAcyjzCwBuAAywihWCG%2B1%2BNAA6WmHuIwIqK5Q83tOiTiBa32MSTiKRghbwaCtg60HPqIdHDDG7g1oj1RJ0LtR0SNnjkiryzBqIHxwlxDWmye40X4%2F7skcZ2PS7c4%2Fv6ZmQ9sbYWAQmPWC3J%2BsU2JhmeUS%2BWNrWLm6clrAg1dUIo1YFbpa9ksb%2Bd3YtTEIPeNiz2mL8Q3m6Jfp2x97G7xtSP7itgJ84y8Mqq%2BoLpns2Rkr%2B1kr3X1UKDVUH7Ft9%2BBkePrjUPmHaIdks6EDTrIROfaj99oQ4qHeKOLIFCmJEyJB8ojnT6igef2LfSfLGae6gX55200SFBiF%2BI7suvyRVMRzua%2FF97CY74M57mbl7FD%2BRoJqZKSX6MfefdbQce6mbfPb3Xr5rnmDk4jb3nUDo1GgdJHhFCNYxLB1y7E7a3%2BiM%2B7dDqjGNeBW1%2FbYjWKVL36Am6B%2BZPIifDnMvpXbbuuRctbg%2F1%2BRfl8GsWOxX5y7UjKwXAvQjMEthVun6IkvvDWptMsRRaKPvjTGBMyoKTyLoQh6Vvb6nU6ca2Xsn7N5lmV4wGsK0qIfcD6vK4NLr4FFjQr6ZGSY3h5AHv4B3LhR0lPhbKj9K0JY6oG%2BhUIOFfNSas5Kct2GEVWAhxFX%2Fcd5WqEksIHYOyJqLcrL%2BNFXCILfSq%2BxFgwLYPTwUDhXmxKwgoOAQrJs358k7kRR91mbMR5qtiyMZooHh%2FgorwseJyB8oyw6Bk%2FoD0kYiCWt47%2BH3GiPG2%2FSvHBEZysjadG7Oeeakzm5dsVPJosBHCK3MNVhyGAsrO%2Bn%2BJGDfn1IjAD8UmakdPlDXvvW0Q4JDGRp8uMKPuc5avMtfWXbwikGj8cqsj6Yq27l0NJge1d7KUB%2F7V%2B%2F5fLfnsQpdqaR3CH8u0a2nMlZBMa2bedGpXGam31iPzT7qtYldy11KDsz%2BHlu8aV9swmZfl%2BJcQz4cLLtWc6Sv125GMzcR3sYkzfW6QGVsz5NeDAz5VDC75%2FkESXJx1RCwQOu%2F0BNLrd8AI1%2B7i%2F23UNEwDO53XoghM7yWvd1ekF4RfJ%2F%2BdBmb9OveTTku9%2FE%2F05OCPnQ58vEwJN7M%2FT%2F8LJP6d4%2Fpxiwuk%2Fv7%2F%2FPhNEU8xvWfW380Ak%2BUeY%2FDmHVP6r8X%2Bf1bl2VH8f1%2Fnr57%2BPBf08%2B9vZKlL8bw%3D%3D' alt='ERdiagram'/>

## models-roleSchema

const mongoose = require("mongoose");

const role = new mongoose.Schema({
role: { type: String,},
permossion: { type: Array },

});

module.exports = mongoose.model("Role", role);

## models-userSchema

const mongoose = require("mongoose");

const user = new mongoose.Schema({
email: { type: String, required: true, unique: true },
password: { type: String, require: true },
role: [{ type: mongoose.Schema.Types.ObjectId, ref: "Role" }],
});

module.exports = mongoose.model("User", user);

## routers-controllers-role

const rolemodel = require("../../db/models/role");

const newrolr =(req,res)=>{
const {role,permossion}=req.body;

    const newrolr = new rolemodel({
        role,
        permossion,

    });
    newrolr
    .save()
    .then((result)=>{
        res.json(result);

    })
    .catch((err)=>{
       res.status(err)
    })

}

const getrole = (req, res)=>{
rolemodel
.find({})
.then(result=>{
res.json(result);

    })
    .catch((err)=>{
     res.json(err);
    })

}

module.exports = {newrolr,getrole}

## routers-controllers-user

const usermodel = require("../../db/models/user");

const bcrypt = require("bcrypt");
const jwt = require("jsonwebtoken");

const salt =Number(process.env.SALT);
const secret =process.env.SECRET;

const resgister =async (req, res, next) => {
const {email,password,role } = req.body;

const savedEmail = email.toLowerCase();
const savedPassword = await bcrypt.hash(password, salt);

const newuser = new usermodel({
email: savedEmail,
password: savedPassword,
role,
});
newuser
.save()
.then((result) => {

      res.json(result);
    })
    .catch((err) => {
      res.send(err);
    });

}

const login = (req, res) => {
const { email, password } = req.body;
const savedEmail = email.toLowerCase();

    usermodel
      .findOne({ email: savedEmail })
      .then(async (result) => {
        if (result) {
          if (result.email == email) {
            const savedPassword = await bcrypt.compare(password, result.password);
            const payload = {
              email,
            };
            if (savedPassword) {
              const token = jwt.sign(payload, secret);

              res.status(200).json({ result, token });
            } else {
              res.status(400).json("Wrong email or password");
            }
          } else {
            res.status(400).json("Wrong email or password");
          }
        } else {
          res.status(404).json("Email not exist");
        }
      })
      .catch((err) => {
        res.send(err);
      });

};

module.exports ={resgister,login,}

## routers-routes-role

const express = require('express');

const roleRouter =express.Router();

const {newrolr,getrole} =require("../controllers/role");

roleRouter.post("/role",newrolr);
roleRouter.get("/read",getrole);

module.exports = roleRouter;

## routers-routes-user

const express = require("express");
const userRoute = express.Router();

const{resgister,login,}= require("./../controllers/user");

userRoute.post("/resgister",resgister);
userRoute.post("/login",login);

module.exports = userRoute

## index

const express = require("express");

const dotenv = require("dotenv");

const cors = require("cors");

const app = express()

dotenv.config()

const db = require("./db/index");
app.use(express.json());

const roleRouter =require("./routers/routes/role");
const userRoute = require("./routers/routes/user");

app.use(roleRouter);
app.use(userRoute);

const PORT = process.env.PORT||5000;
app.use(cors())

app.listen(PORT, () => {
console.log(`server is running on port ${PORT}`);
});

## .env and gitignore

It contains sensitive and important data and it is not recommended to display it if the port is of great importance
